<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فضاء الولي</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* أنماط الزر ونموذج تسجيل الدخول */
        #welcomeButton {
            position: fixed;
            bottom: 578px;
            right: 1px;
            padding: 3px px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        #loginModal {
            display: none; /* مخفي افتراضياً */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        #loginForm {
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

        #loginForm label {
            display: block;
            margin-bottom: 5px;
        }

        #loginForm input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        #closeButton {
            background: red;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <img src="https://parent.education.tn/parent/image/entete-espace-parent.jpg" alt="فضاء الولي" class="header-image">
            <h1><i class="fas fa-user-graduate"></i> فضاء الولي</h1>
            <p><i class="fas fa-chalkboard-teacher"></i> القسم: 9 أساسي 9</p>
        </header>

        <section class="student-info">
            <h2><i class="fas fa-info-circle"></i> معلومات التلميذة</h2>
            <ul>
                <li><strong>الاسم:</strong> <span id="studentFirstName">حبيبة</span></li>
                <li><strong>اللقب:</strong> <span id="studentLastName">عمر</span></li>
                <li><strong>القسم:</strong> 9 أساسي 9</li>
            </ul>
        </section>

        <section class="attendance-info">
            <h2><i class="fas fa-calendar-alt"></i> معلومات الغياب</h2>
            <ul>
                <li><strong>عدد الغيابات:</strong> <span id="absencesCount">1</span></li>
                <li><strong>سبب الغياب:</strong> <span id="absenceReason">التأخير</span></li>
            </ul>
        </section>

        <section class="card-info">
            <h2><i class="fas fa-id-card-alt"></i> معلومات البطاقات</h2>
            <ul>
                <li><strong>عدد بطاقات الإقصاء:</strong> <span id="exclusionCardsCount">0</span></li>
                <li><strong>عدد بطاقات الدخول:</strong> <span id="entryCardsCount">1</span></li>
                <li><strong>عدد بطاقات الدخول بسبب التأخير:</strong> <span id="entryCardsForDelayCount">1</span></li>
            </ul>
        </section>

        <!-- زر "مرحبا" -->
        <button id="welcomeButton">تسجيل الدخول في فضاء الولي</button>

        <!-- نموذج تسجيل الدخول -->
        <div id="loginModal">
            <div id="loginForm">
                <h3>تسجيل الدخول</h3>
                <label for="username">اسم المستخدم:</label>
                <input type="text" id="username" placeholder="ادخل اسم المستخدم">
                <label for="password">كلمة المرور:</label>
                <input type="password" id="password" placeholder="ادخل كلمة المرور">
                <button id="loginButton">تسجيل الدخول</button>
                <button id="closeButton">إغلاق</button>
            </div>
        </div>
    </div>

    <script>
        // جلب البيانات من localStorage وتحديث الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            const firstName = localStorage.getItem('firstName') || 'حبيبة';
            const lastName = localStorage.getItem('lastName') || 'عمر';
            const absencesCount = localStorage.getItem('absencesCount') || '1';
            const absenceReason = localStorage.getItem('absenceReason') || 'التأخير';
            const exclusionCardsCount = localStorage.getItem('exclusionCardsCount') || '0';
            const entryCardsCount = localStorage.getItem('entryCardsCount') || '1';
            const entryCardsForDelayCount = localStorage.getItem('entryCardsForDelayCount') || '1';

            document.getElementById('studentFirstName').textContent = firstName;
            document.getElementById('studentLastName').textContent = lastName;
            document.getElementById('absencesCount').textContent = absencesCount;
            document.getElementById('absenceReason').textContent = absenceReason;
            document.getElementById('exclusionCardsCount').textContent = exclusionCardsCount;
            document.getElementById('entryCardsCount').textContent = entryCardsCount;
            document.getElementById('entryCardsForDelayCount').textContent = entryCardsForDelayCount;
        });

        // فتح نموذج تسجيل الدخول
        document.getElementById('welcomeButton').addEventListener('click', function() {
            document.getElementById('loginModal').style.display = 'flex';
        });

        // إغلاق نموذج تسجيل الدخول
        document.getElementById('closeButton').addEventListener('click', function() {
            document.getElementById('loginModal').style.display = 'none';
        });

        // تسجيل الدخول
        document.getElementById('loginButton').addEventListener('click', function() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username === '0.0.0.0' && password === '1.1.1.1') {
                // الانتقال إلى لوحة التحكم
                window.location.href = 'admin.html';
            } else {
                alert('اسم المستخدم أو كلمة المرور غير صحيحة.');
            }
        });
    </script>
</body>
</html>
